<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Задача 4</title>
  </head>
  <body>
    <h1>Задача 4</h1>
    <p>
      Використовуючи один з АРІ
      <a target="_blank" href="https://github.com/public-apis/public-apis#animals"
        >https://github.com/public-apis/public-apis#animals</a
      >
      та функцію fetch організувати завантаження та відображення даних
    </p>
    <script>
      'use strict'

      const contentBlock = document.createElement('div')

      const loadingBlock = document.createElement('div')
      loadingBlock.innerText = 'Loading . . . .'
      loadingBlock.classList = 'loading'

      const imageBlock = document.createElement('div')
      imageBlock.classList = 'image-block'
      imageBlock.style.display = 'none'
      imageBlock.style.textAlign = 'center'

      const image = document.createElement('img')
      image.className = 'image'
      image.style.height = '300px'
      imageBlock.append(image)

      const errorBlock = document.createElement('div')
      errorBlock.innerText = 'Помилка завантаження:('
      errorBlock.className = 'error'
      errorBlock.style.display = 'none'

      contentBlock.append(loadingBlock)
      contentBlock.append(imageBlock)
      contentBlock.append(errorBlock)
      document.body.append(contentBlock)

      fetch('https://dog.ceo/api/breeds/image/random')
        .then((res) => res.json())
        .then((data) => {
          document.querySelector('.image').src = data.message
          document.querySelector('.image-block').style.display = 'block'
        })
        .catch((err) => {
          console.log(err)
          document.querySelector('.error').style.display = 'block'
        })
        .finally(() => {
          document.querySelector('.loading').style.display = 'none'
        })
    </script>
  </body>
</html>
